# 设计指南

本文档提供了使用 PPT Master 系统时的详细设计指南和最佳实践。系统支持多种画布格式，包括演示文稿、社交媒体、营销物料等。

## 目录

- [画布格式](#画布格式)
- [颜色系统](#颜色系统)
- [排版规范](#排版规范)
- [布局原则](#布局原则)
- [图表设计](#图表设计)
- [图标使用](#图标使用)
- [常见模式](#常见模式)

## 画布格式

本系统支持多种画布格式，详细规范请参考 [画布格式规范](./canvas_formats.md)。

### 快速格式选择

- **演示汇报**: PPT 16:9 (1280×720) 或 PPT 4:3 (1024×768)
- **小红书分享**: 小红书帖子 (1242×1660, 3:4)
- **朋友圈海报**: 朋友圈 (1080×1080, 1:1)
- **短视频封面**: Story (1080×1920, 9:16)
- **公众号配图**: 公众号头图 (900×383, 2.35:1)

### 格式特性对照

| 格式类型 | 视觉动线 | 主要布局 | 适合内容 |
|---------|---------|---------|---------|
| 横屏 (16:9, 4:3) | 左→右，Z字型 | 多栏、网格 | 数据图表、对比分析 |
| 竖屏 (3:4, 9:16) | 上→下，纵向 | 单栏、堆叠 | 信息流、步骤说明 |
| 方形 (1:1) | 中心辐射 | 居中、四象限 | 单一主题、品牌展示 |

## 颜色系统

### 主色调选择

#### 咨询风格

```
德勤蓝:      #0076A8  - 专业、可靠
麦肯锡蓝:    #005587  - 权威、深度
BCG深蓝:     #003F6C  - 稳重、信任
普华永道橙:  #D04A02  - 活力、创新
安永黄:      #FFE600  - 乐观、清晰
```

#### 通用灵活风格

```
科技蓝:      #2196F3  - 现代、创新
活力橙:      #FF9800  - 热情、积极
成长绿:      #4CAF50  - 健康、增长
专业紫:      #9C27B0  - 创意、高端
警示红:      #F44336  - 紧急、重要
```

### 辅助色系

#### 数据可视化配色

```css
/* 积极趋势 */
绿色系:
  - 深绿: #2E7D32
  - 中绿: #4CAF50
  - 浅绿: #81C784

/* 警示趋势 */
黄色系:
  - 深黄: #F57C00
  - 中黄: #FFA726
  - 浅黄: #FFD54F

/* 负面趋势 */
红色系:
  - 深红: #C62828
  - 中红: #EF5350
  - 浅红: #E57373
```

#### 中性色系

```css
/* 文本层级 */
主文本:   #212121  (黑色, 87% opacity)
副文本:   #757575  (灰色, 60% opacity)
辅助文本: #9E9E9E  (浅灰, 38% opacity)

/* 背景层级 */
主背景:   #FFFFFF
次背景:   #F5F5F5
卡片背景: #FAFAFA
边框:     #E0E0E0
```

### 对比度要求

遵循 WCAG 2.1 AA 级标准：

- 正文文本：至少 4.5:1
- 大号文本（18pt+）：至少 3:1
- 重要数据：至少 7:1（AAA 级）

## 排版规范

### 字体层级

#### 咨询风格

```
H1 - 封面标题:     48-56px, Bold
H2 - 页面标题:     32-36px, Bold
H3 - 章节标题:     24-28px, SemiBold
正文 - 主要内容:   18-20px, Regular
小字 - 注释说明:   14-16px, Regular
```

#### 通用灵活风格

```
H1 - 封面标题:     52-64px, Bold
H2 - 页面标题:     36-42px, Bold
H3 - 章节标题:     28-32px, SemiBold
正文 - 主要内容:   20-24px, Regular
小字 - 注释说明:   16-18px, Regular
```

### 字体选择

#### 推荐字体栈

```css
/* 西文 */
system-ui, -apple-system, BlinkMacSystemFont,
"Segoe UI", Roboto, "Helvetica Neue", Arial

/* 中文 */
"PingFang SC", "Microsoft YaHei",
"Source Han Sans CN", "Noto Sans CJK SC"

/* 数字（等宽） */
"SF Mono", Monaco, "Cascadia Code",
"Courier New", monospace
```

### 行高和间距

```
标题行高: 1.2-1.3
正文行高: 1.5-1.6
段落间距: 1.5-2em
列表间距: 0.5-1em
```

### 文本换行与扁平化

- 生成阶段：禁止使用 `<foreignObject>`，采用 `<tspan>` 手动换行，并通过 `x`/`dy` 控制行起点与行距，保证与版式行高规范一致。
- 发布/后处理：推荐使用统一后处理工具 `tools/finalize_svg.py`，已包含文本扁平化功能：
  ```bash
  python3 tools/finalize_svg.py <项目路径>
  ```
- 校验要点：对比 `svg_output` 与 `svg_final`，核对行序、样式（如 `font-size`、`font-weight`、`fill`）与定位（`x`/`y`/`transform`）一致；目标文件中不应残留 `<tspan>`。

## 布局原则

### 16:9 画布规范

```
画布尺寸: 1280×720px
安全区域: 1200×640px (留40px边距)
标题区:    1200×100px
内容区:    1200×500px
页脚区:    1200×40px
```

### 网格系统

#### 单栏布局

```
适用场景: 封面、结束页、单一主题
内容宽度: 800-1000px
水平居中
```

#### 双栏布局

```
适用场景: 对比分析、左图右文
栏宽比例: 1:1 或 3:2
栏间距: 40-60px
```

#### 三栏布局

```
适用场景: 并列要点、流程步骤
栏宽比例: 1:1:1
栏间距: 30-40px
```

#### 四象限布局

```
适用场景: 矩阵分析、分类展示
象限尺寸: 560×250px (含间距)
间距: 20-30px
```

### 卡片设计

#### 尺寸规范（强制规则）

```
单行卡片: 高度 530-600px
双行卡片: 每行 265-295px
三栏卡片: 每栏宽度 360-380px
```

#### 内边距

```
标题区: 20-30px
内容区: 30-40px
图表区: 20-30px
```

#### 圆角半径

```
小卡片: 8-12px
大卡片: 12-16px
图表: 8px
按钮: 6-8px
```

## 图表设计

### 常用图表类型

#### 1. KPI 卡片

```
用途: 展示关键指标
布局: 2×2 或 1×4
元素:
  - 大号数字 (48-56px)
  - 指标名称 (18-20px)
  - 趋势图标/百分比
  - 同比/环比说明
```

#### 2. 柱状图

```
用途: 比较数据
推荐:
  - 柱子数量: 3-8个
  - 柱宽: 40-60px
  - 间距: 柱宽的50-80%
  - 显示数值标签
```

#### 3. 折线图

```
用途: 趋势展示
推荐:
  - 线条粗细: 2-3px
  - 数据点: 圆形, 半径 4-6px
  - 网格线: 1px, 浅灰色
  - 图例位置: 右上角或底部
```

#### 4. 饼图/环形图

```
用途: 占比分析
推荐:
  - 分块数量: 3-6个
  - 起始角度: -90度 (12点方向)
  - 环形宽度: 40-60px
  - 显示百分比标签
```

#### 5. 矩阵图

```
用途: 四象限分析
推荐:
  - 2×2布局
  - 轴线: 2px实线
  - 象限标签清晰
  - 数据点大小统一
```

### 图表配色

#### 单色渐变

```css
适用: 同类数据比较
方案: 同一色相，明度递增
示例: #1976D2 → #42A5F5 → #90CAF9
```

#### 对比色组

```css
适用: 不同类别数据
方案: 色轮对比色
示例:
  蓝色组 #2196F3
  橙色组 #FF9800
  绿色组 #4CAF50
```

#### 顺序色

```css
适用: 等级/强度展示
方案: 冷暖渐变
示例: #4CAF50 → #FFC107 → #F44336
```

## 图标使用

### 项目内置图标库（推荐）

本项目提供 **预置图标库**，位于 `templates/icons/`，包含 40+ 常用图标，风格统一，可直接复制使用。

```
查看图标: 浏览器打开 templates/icons/preview.html
使用方式: 详见 templates/icons/README.md
```

**分类概览**：
- 通用图标：home, settings, search, user, calendar, mail...
- 数据图标：trending-up, chart-bar, database, file-text...
- 业务图标：rocket, target, lightbulb, trophy, star...
- 箭头图标：arrow-right/left/up/down, chevron-right...
- 状态图标：check, check-circle, x-circle, alert-circle...
- 工具图标：edit, trash, download, upload, share...

### 外部图标库

如需更多图标，推荐从以下开源库获取：

1. **SVG Repo** (https://www.svgrepo.com/)

   - 本项目图标来源
   - 50万+ 免费 SVG 图标
   - 多种风格可选

2. **Lucide Icons** (https://lucide.dev/)

   - 简洁现代
   - SVG 格式
   - 高度一致性

3. **Material Icons** (https://fonts.google.com/icons)

   - 通用性强
   - 识别度高
   - 多种样式

3. **Feather Icons** (https://feathericons.com/)
   - 极简风格
   - 线条清晰
   - 轻量级

### 图标规范

```
尺寸:
  - 小图标: 16-20px
  - 常规图标: 24-32px
  - 大图标: 40-48px

线宽: 2px (统一)
颜色: 与主色调协调
间距: 图标大小的 50%
```

### 使用场景

```
✓ 章节标识
✓ 功能说明
✓ 列表项标记
✓ 状态指示
✓ 导航元素

✗ 避免过度装饰
✗ 避免混用风格
✗ 避免复杂图标
```

## 常见模式

### 封面页设计

```
布局:
  - 顶部: 公司Logo (可选)
  - 中部: 演示标题 (H1)
  - 副标题: 场景说明
  - 底部: 日期、演讲人

样式:
  - 简洁大气
  - 主色调背景或图片
  - 文字居中或偏左
```

### 内容页设计

```
标准结构:
  1. 页面标题 (顶部, H2)
  2. 主要内容 (中部)
  3. 页码/注释 (底部)

变体:
  - 左标题右内容
  - 上下分割
  - 多栏布局
```

### 数据页设计

```
重点:
  - 数据可视化为主
  - 关键数字突出显示
  - 提供数据来源
  - 添加趋势说明

布局:
  - 大图表 + 要点
  - 多个小图表组合
  - KPI仪表盘
```

### 总结页设计

```
内容:
  - 3-5个核心要点
  - 行动号召 (CTA)
  - 下一步计划

样式:
  - 列表或编号
  - 图标辅助
  - 简洁明了
```

## CRAP 原则应用

### Contrast (对比)

```
✓ 标题与正文差异明显
✓ 重要数据用不同颜色
✓ 背景与前景对比清晰
✓ 尺寸层级分明
```

### Repetition (重复)

```
✓ 统一的配色方案
✓ 一致的字体使用
✓ 相同的卡片样式
✓ 规律的间距系统
```

### Alignment (对齐)

```
✓ 所有元素明确对齐
✓ 使用网格系统
✓ 标题对齐统一
✓ 文本对齐一致
```

### Proximity (亲密性)

```
✓ 相关元素靠近
✓ 不同组块分离
✓ 逻辑分组明确
✓ 空白使用合理
```

## 常见问题与解决方案

### Q: 内容太多放不下？

```
解决方案:
1. 分成多页展示
2. 使用更小字号（不低于16px）
3. 精简文字，突出要点
4. 使用图表代替文字
```

### Q: 颜色搭配不协调？

```
解决方案:
1. 使用配色工具（如Coolors.co）
2. 限制主色数量（不超过3种）
3. 增加中性色占比
4. 参考成功案例
```

### Q: 布局看起来不平衡？

```
解决方案:
1. 检查对齐关系
2. 调整元素间距
3. 使用网格系统
4. 平衡视觉重量
```

## 参考资源

- [Material Design Color System](https://material.io/design/color)
- [Adobe Color](https://color.adobe.com/)
- [Coolors](https://coolors.co/)
- [Type Scale](https://type-scale.com/)
- [Grid Calculator](https://www.gridcalculator.dk/)

---

本指南持续更新中。如有建议，欢迎提交 Issue 或 PR。
