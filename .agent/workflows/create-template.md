---
description: 根据已有项目文件或参考模板生成一份新的 PPT 布局模板
---

# 创建新模板 Workflow

根据参考模板或用户需求，为模板库生成一套完整的 PPT 布局模板。

---

## 前提条件

用户需提供以下信息之一：

### 方式 A：基于现有项目/模板

1. **参考来源路径**：已有的项目目录或模板目录
2. **新模板名称**：新模板的标识符（英文，如 `my_company`）

### 方式 B：从零创建

1. **新模板名称**：新模板的标识符（英文，如 `my_company`）
2. **模板中文名称**：用于文档描述（如「我的公司模板」）
3. **主题色**：主导色 HEX 值（如 `#004098`）
4. **设计风格描述**：简短描述模板的适用场景和设计调性

---

## 步骤 1：分析参考来源（如有）

如果用户提供了参考来源，首先分析其结构和设计元素：

// turbo
```bash
# 列出参考来源的文件结构（macOS/Linux 使用 ls，Windows PowerShell 使用 Get-ChildItem）
ls -la "<参考来源路径>"
```

**提取关键信息**：

- 配色方案（主色、辅助色、强调色）
- 设计风格特点（装饰元素、布局特征）
- 字体方案
- 特色设计元素

---

## 步骤 2：创建新模板目录

// turbo
```bash
# 创建新模板目录
mkdir -p "templates/layouts/<新模板名称>"
```

---

## 步骤 3：生成 design_spec.md

根据分析结果或用户提供的信息，生成新模板的设计规范文档。

**必须包含的章节**（按此顺序）：

```markdown
# [模板名称] - 设计规范

> 一句话描述适用场景

## 一、模板概述
## 二、画布规范
## 三、配色方案
## 四、排版体系
## 五、页面结构
## 六、页面类型
## 七、布局模式（推荐）
## 八、间距规范
## 九、SVG 技术约束
## 十、占位符规范
## 十一、使用说明（推荐）
```

**各章节要点**：

| 章节 | 必须包含内容 |
|------|-------------|
| 模板概述 | 模板名称、适用场景、设计调性、主题模式 |
| 画布规范 | 格式 16:9、尺寸 1280×720、viewBox、页面边距 |
| 配色方案 | 主色系、文字色系、功能色（带 HEX 值） |
| 排版体系 | 字体栈、字号层级（H1-Sub） |
| 页面结构 | 通用布局、装饰设计 |
| 页面类型 | 5 种页面的详细说明 |
| SVG 技术约束 | 必须遵守项 + 禁用元素列表 |
| 占位符规范 | 常用占位符表格 |

---

## 步骤 4：生成 SVG 模板文件

根据 design_spec.md 的规范，生成以下 5 个 SVG 模板：

### 4.1 封面页 `01_cover.svg`

- 背景（渐变/纯色/图片支持）
- 装饰元素（与设计风格一致）
- 主标题占位符 `{{TITLE}}`
- 副标题占位符 `{{SUBTITLE}}`
- 演讲者/单位信息占位符
- 日期占位符 `{{DATE}}`

### 4.2 目录页 `02_toc.svg`

- 背景 + 顶部装饰
- 页面标题
- 章节列表（`{{TOC_ITEM_1}}` ~ `{{TOC_ITEM_5}}`）
- 装饰元素

### 4.3 章节页 `02_chapter.svg`

- 深色/渐变背景
- 大号章节编号 `{{CHAPTER_NUM}}`
- 章节标题 `{{CHAPTER_TITLE}}`
- 英文副标题 `{{CHAPTER_TITLE_EN}}`（可选）

### 4.4 内容页 `03_content.svg`

- 白色/浅色背景
- 顶部装饰条
- 页面标题 `{{PAGE_TITLE}}`
- 内容区域占位 `{{CONTENT_AREA}}`（虚线框 + 说明文字）
- 页码 `{{PAGE_NUM}}`
- 页脚装饰

### 4.5 结束页 `04_ending.svg`

- 背景（与封面呼应）
- 感谢语/结束标题
- 感谢列表或联系信息占位符
- 结语 `{{CLOSING_MESSAGE}}`
- 装饰元素

---

## 步骤 5：验证模板完整性

// turbo
```bash
# 检查模板文件是否完整
ls -la "templates/layouts/<新模板名称>"
```

**检查清单**：

- [ ] `design_spec.md` 包含完整的设计规范（按标准章节结构）
- [ ] 所有 5 个 SVG 模板文件存在
- [ ] SVG viewBox 设置正确（`0 0 1280 720`）
- [ ] 占位符格式一致（`{{PLACEHOLDER}}`）
- [ ] 颜色值统一使用 HEX 格式
- [ ] 无 PPT 不兼容元素（clipPath、mask、foreignObject、style、class 等）
- [ ] 设计风格在所有页面中保持一致

---

## 步骤 6：输出确认

完成后，输出以下确认信息：

```markdown
## ✅ 模板创建完成

**模板名称**: <新模板名称>（<中文名称>）
**模板路径**: `templates/layouts/<新模板名称>/`

### 包含文件

| 文件 | 状态 |
|------|------|
| `design_spec.md` | ✅ 完成 |
| `01_cover.svg` | ✅ 完成 |
| `02_toc.svg` | ✅ 完成 |
| `02_chapter.svg` | ✅ 完成 |
| `03_content.svg` | ✅ 完成 |
| `04_ending.svg` | ✅ 完成 |

### 设计亮点

- 主色调：`#XXXXXX`
- 设计风格：...
- 特色元素：...

### 使用方式

复制模板到项目目录使用：
\`\`\`bash
cp templates/layouts/<新模板名称>/* projects/<项目>/templates/
\`\`\`
```

---

## 配色方案快速参考

| 风格 | 主导色 | 辅助色 | 强调色 | 适用场景 |
|------|--------|--------|--------|----------|
| 科技蓝 | `#004098` | `#F5F5F5` | `#CC0000` | 认证、测评 |
| Google 风 | `#4285F4` | `#FFFFFF` | 四色品牌 | 技术分享、年度汇报 |
| 麦肯锡 | `#005587` | `#ECF0F1` | `#F5A623` | 战略咨询、高管汇报 |
| 政府蓝 | `#003366` | `#E8F4F8` | `#FFC000` | 政府项目 |
| 商务灰 | `#2C3E50` | `#ECF0F1` | `#E74C3C` | 通用商务 |
| 学术蓝 | `#003366` | `#FFFFFF` | `#CC0000` | 学术答辩 |
| 像素风 | `#0D1117` | `#161B22` | `#39FF14` | 技术/游戏主题 |

---

## 注意事项

1. **SVG 技术约束**：必须遵守 `AGENTS.md` 中的黑名单规则
2. **配色一致性**：所有 SVG 文件使用相同的配色方案
3. **占位符规范**：使用 `{{}}` 格式的占位符便于后续替换
4. **字体兼容性**：优先使用系统字体栈
5. **设计规范结构**：遵循 `templates/layouts/README.md` 中定义的标准章节顺序
